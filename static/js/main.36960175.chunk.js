(this["webpackJsonpstar-db"]=this["webpackJsonpstar-db"]||[]).push([[0],{14:function(e,t,a){e.exports={container:"PlanetInfo_container__2sTnU",image:"PlanetInfo_image__23Ob9",text:"PlanetInfo_text__2hfle",title:"PlanetInfo_title__1O7R2",mainTitle:"PlanetInfo_mainTitle__1yl5i",description:"PlanetInfo_description__21huW"}},15:function(e,t,a){e.exports={container:"CardInfo_container__1bw6m",image:"CardInfo_image__3KTsT",title:"CardInfo_title__1Yz7b",button:"CardInfo_button__7Gb3b"}},17:function(e,t,a){e.exports={wrapper:"App_wrapper__1Jn2B",title:"App_title__2C-7r"}},18:function(e,t,a){e.exports={header:"Header_header__1v0yI",logo:"Header_logo__3T0lc",link:"Header_link__1uLZ-",active:"Header_active__3GX0s"}},19:function(e,t,a){e.exports={list:"EntityList_list__3OuMg",item:"EntityList_item__2xSlo",active:"EntityList_active__3GKJO"}},24:function(e,t,a){e.exports={item:"FeatureList_item__2pjl8"}},29:function(e,t,a){e.exports={error:"SomeError_error__1GVj3"}},31:function(e,t,a){e.exports=a.p+"static/media/404-error.9324e856.svg"},32:function(e,t,a){e.exports={spinner:"Spinner_spinner__1Nh-g"}},35:function(e,t,a){e.exports=a(47)},40:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),l=a.n(c),s=(a(40),a(17)),i=a.n(s),u=a(16),o=a(18),m=a.n(o),f=a(10),p=a.n(f),g=a(12),h=a(1),d=a(20),v=a(28),E=a(34),b=a(33),_=a(29),O=a.n(_);function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var x=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("circle",{cx:224,cy:138.667,r:32}),r.a.createElement("path",{d:"M437.333,245.333c5.896,0,10.667-4.771,10.667-10.667V192h32c5.896,0,10.667-4.771,10.667-10.667v-42.667 c0-5.896-4.771-10.667-10.667-10.667h-53.333V85.333h15.5c4.406,0,8.354-2.708,9.948-6.823c1.594-4.104,0.49-8.771-2.771-11.729 C402,23.719,340.917,0,277.333,0c-141.156,0-256,114.844-256,256s114.844,256,256,256c63.583,0,124.667-23.719,172.01-66.781 c3.26-2.958,4.365-7.625,2.771-11.729c-1.594-4.115-5.542-6.823-9.948-6.823h-15.5v-21.333H480 c5.896,0,10.667-4.771,10.667-10.667v-64c0-5.896-4.771-10.667-10.667-10.667h-74.667v-53.333H43.207 c-0.161-3.561-0.54-7.066-0.54-10.667s0.379-7.105,0.54-10.667H437.333z M341.333,128H384c5.896,0,10.667,4.771,10.667,10.667 c0,5.896-4.771,10.667-10.667,10.667h-42.667c-5.896,0-10.667-4.771-10.667-10.667C330.667,132.771,335.438,128,341.333,128z  M224,64c41.167,0,74.667,33.5,74.667,74.667c0,41.167-33.5,74.667-74.667,74.667s-74.667-33.5-74.667-74.667 C149.333,97.5,182.833,64,224,64z M96,128h21.333c5.896,0,10.667,4.771,10.667,10.667c0,5.896-4.771,10.667-10.667,10.667H96 c-5.896,0-10.667-4.771-10.667-10.667C85.333,132.771,90.104,128,96,128z M330.667,320h32c5.896,0,10.667,4.771,10.667,10.667 c0,5.896-4.771,10.667-10.667,10.667h-32c-5.896,0-10.667-4.771-10.667-10.667C320,324.771,324.771,320,330.667,320z  M138.667,384H96c-5.896,0-10.667-4.771-10.667-10.667c0-5.896,4.771-10.667,10.667-10.667h42.667 c5.896,0,10.667,4.771,10.667,10.667C149.333,379.229,144.563,384,138.667,384z M85.333,298.667h96 c5.896,0,10.667,4.771,10.667,10.667c0,5.896-4.771,10.667-10.667,10.667h-96c-5.896,0-10.667-4.771-10.667-10.667 C74.667,303.438,79.438,298.667,85.333,298.667z"})))),k=r.a.createElement("g",null),w=r.a.createElement("g",null),P=r.a.createElement("g",null),I=r.a.createElement("g",null),N=r.a.createElement("g",null),S=r.a.createElement("g",null),C=r.a.createElement("g",null),R=r.a.createElement("g",null),F=r.a.createElement("g",null),B=r.a.createElement("g",null),D=r.a.createElement("g",null),L=r.a.createElement("g",null),A=r.a.createElement("g",null),H=r.a.createElement("g",null),M=r.a.createElement("g",null),T=function(e){var t=e.svgRef,a=e.title,n=y(e,["svgRef","title"]);return r.a.createElement("svg",j({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512 512",style:{enableBackground:"new 0 0 512 512"},xmlSpace:"preserve",ref:t},n),a?r.a.createElement("title",null,a):null,x,k,w,P,I,N,S,C,R,F,B,D,L,A,H,M)},z=r.a.forwardRef((function(e,t){return r.a.createElement(T,j({svgRef:t},e))})),G=(a.p,function(){return r.a.createElement("div",{className:O.a.error},r.a.createElement("p",null,"Ooops..."),r.a.createElement("p",null,"Server is not available"),r.a.createElement(z,null))}),U=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(v.a)(a,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?r.a.createElement(G,null):this.props.children}}]),a}(n.Component),J=[{label:"People",to:"/people/"},{label:"Planets",to:"/planets/"},{label:"Starships",to:"/starships/"}],V=Object(h.g)((function(e){var t=e.location.pathname;return r.a.createElement(U,null,r.a.createElement("header",{className:m.a.header},r.a.createElement(g.b,{className:m.a.logo,to:"/films/"},r.a.createElement("h1",null,"The Star Wars")),r.a.createElement("nav",{className:m.a.nav},J.map((function(e){var a=e.label,n=e.to;return r.a.createElement(g.b,{key:a,className:p()(m.a.link,Object(u.a)({},m.a.active,t===n)),to:n},a)})))))})),K=a(4),W=a(3),X=a.n(W),Y=a(9),Z=a(8),$=function e(){var t=this;Object(d.a)(this,e),this._apiBase="https://swapi.dev/api",this._assetBase="https://starwars-visualguide.com/assets/img",this._retrievedId=function(e){return e.match(/\/([0-9]*)\/$/)[1]},this._transformList=function(e){return e.map((function(e){return Object(Z.a)(Object(Z.a)({id:t._retrievedId(e.url)},e),{},{name:e.name?e.name:e.title})}))},this.getResource=function(){var e=Object(Y.a)(X.a.mark((function e(a){var n,r;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(a));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could no fetch ".concat(a,", status ").concat(n.status));case 5:return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllFilms=Object(Y.a)(X.a.mark((function e(){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/films/");case 2:return a=e.sent,e.abrupt("return",t._transformList(a.results));case 4:case"end":return e.stop()}}),e)}))),this.getAllPeople=Object(Y.a)(X.a.mark((function e(){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/people/");case 2:return a=e.sent,e.abrupt("return",t._transformList(a.results));case 4:case"end":return e.stop()}}),e)}))),this.getAllPlanets=Object(Y.a)(X.a.mark((function e(){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/planets/");case 2:return a=e.sent,e.abrupt("return",t._transformList(a.results).filter((function(e,t){return t>3})));case 4:case"end":return e.stop()}}),e)}))),this.getAllStarships=Object(Y.a)(X.a.mark((function e(){var a;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/starships/");case 2:return a=e.sent,e.abrupt("return",t._transformList(a.results));case 4:case"end":return e.stop()}}),e)}))),this.getFilm=function(){var e=Object(Y.a)(X.a.mark((function e(a){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/films/".concat(a));case 2:return n=e.sent,e.abrupt("return",t._transformFilm(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPerson=function(){var e=Object(Y.a)(X.a.mark((function e(a){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/people/".concat(a));case 2:return n=e.sent,e.abrupt("return",t._transformPerson(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPlanet=function(){var e=Object(Y.a)(X.a.mark((function e(a){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/planets/".concat(a));case 2:return n=e.sent,e.abrupt("return",t._transformPlanet(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getStarship=function(){var e=Object(Y.a)(X.a.mark((function e(a){var n;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("/starships/".concat(a));case 2:return n=e.sent,e.abrupt("return",t._transformStarship(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getFilmsImage=function(e){return"".concat(t._assetBase,"/films/").concat(e,".jpg")},this.getPersonImage=function(e){return"".concat(t._assetBase,"/characters/").concat(e,".jpg")},this.getPlanetImage=function(e){return"".concat(t._assetBase,"/planets/").concat(e,".jpg")},this.getStarshipImage=function(e){return"".concat(t._assetBase,"/starships/").concat(e,".jpg")},this._transformFilm=function(e){return{id:t._retrievedId(e.url),name:e.title,features:[{key:"Director",value:e.director},{key:"Episode",value:e.episode_id},{key:"Producer",value:e.producer},{key:"Release date",value:e.release_date}]}},this._transformPerson=function(e){return{id:t._retrievedId(e.url),name:e.name,features:[{key:"Gender",value:e.gender},{key:"Height",value:e.height},{key:"Hair color",value:e.hair_color},{key:"Eye color",value:e.eye_color}]}},this._transformPlanet=function(e){var a=t._retrievedId(e.url);return Object(Z.a)(Object(Z.a)({id:a},e),{},{name:e.name,features:[{key:"Climate",value:e.climate},{key:"Diameter",value:e.diameter},{key:"Population",value:e.population},{key:"Orbital Period",value:e.orbital_period}]})},this._transformStarship=function(e){return{id:t._retrievedId(e.url),name:e.name,features:[{key:"Model",value:e.model},{key:"Passengers",value:e.passengers},{key:"Class",value:e.starship_class}]}}},q=a(14),Q=a.n(q),ee=a(11),te=a(31),ae=a.n(te),ne=function(e){var t=e.imgUrl,a=e.alt,c=Object(n.useState)(t),l=Object(K.a)(c,2),s=l[0],i=l[1];Object(n.useEffect)((function(){i(t)}),[t]);return r.a.createElement("img",{onError:function(){i(ae.a)},src:s,alt:a})};ne.protoTypes={imgUrl:ee.string,alt:ee.string};var re=ne,ce=function(e){var t=e.imageSrc,a=e.name,n=e.climate,c=e.diameter,l=e.orbital_period,s=e.gravity;return r.a.createElement("div",{className:p()(Q.a.container,"card")},r.a.createElement("h3",{className:Q.a.mainTitle},"Random Planet"),r.a.createElement("div",{className:Q.a.image},r.a.createElement(re,{imgUrl:t,alt:a})),r.a.createElement("div",{className:Q.a.text},r.a.createElement("h2",{className:Q.a.title},a),r.a.createElement("p",{className:Q.a.description},"The climate on this planet is ",n,". The diameter of the planet is ",c,", the orbital period is ",l," days, gravity is ",s,".")))},le=a(32),se=a.n(le),ie=function(e){return e.error?r.a.createElement(G,null):r.a.createElement("div",{className:se.a.spinner,style:{padding:"2.1rem 0"}})},ue=function(){var e=new $,t=e.getPlanet,a=e.getPlanetImage,c=Object(n.useState)(2),l=Object(K.a)(c,2),s=l[0],i=l[1],u=Object(n.useState)(null),o=Object(K.a)(u,2),m=o[0],f=o[1],p=Object(n.useState)(!0),g=Object(K.a)(p,2),h=g[0],d=g[1],v=Object(n.useState)(null),E=Object(K.a)(v,2),b=E[0],_=E[1],O=function(){var e=Math.floor(7*Math.random()+3);i(e)},j=Object(n.useCallback)(t,[]);return Object(n.useEffect)((function(){j(s).then((function(e){f(e),d(!1)})).catch((function(e){_(e)}));var e=setInterval(O,1e4);return function(){return clearInterval(e)}}),[s,j]),h?r.a.createElement(ie,{error:b}):r.a.createElement(U,null,r.a.createElement(ce,Object.assign({imageSrc:a(s)},m)))},oe=function(e,t){var a=Object(n.useMemo)((function(){return{data:null,loading:!0,error:null}}),[]),r=Object(n.useState)(a),c=Object(K.a)(r,2),l=c[0],s=c[1],i=Object(n.useCallback)(e,[e]);return Object(n.useEffect)((function(){s(a);var e=!1;return i(t).then((function(t){return!e&&s((function(e){return Object(Z.a)(Object(Z.a)({},e),{},{data:t,loading:!1})}))})).catch((function(e){return s((function(t){return Object(Z.a)(Object(Z.a)({},t),{},{error:e})}))})),function(){e=!0}}),[i,t,a]),l},me=a(19),fe=a.n(me),pe=Object(h.g)((function(e){var t=e.getData,a=e.history,n=oe(t),c=n.data,l=n.loading,s=n.error;return l?r.a.createElement("div",{className:fe.a.list},r.a.createElement(ie,{error:s})):r.a.createElement(U,null,r.a.createElement("ul",{className:fe.a.list},c.map((function(e){var t=e.name,n=e.id;return r.a.createElement("li",{key:n,className:p()(fe.a.item,Object(u.a)({},fe.a.active,!1===n))},r.a.createElement("button",{type:"button",onClick:function(){return function(e){var t="".concat(e);a.push(t)}(n)}},t))}))))})),ge=new $,he=ge.getAllFilms,de=ge.getAllPeople,ve=ge.getAllPlanets,Ee=ge.getAllStarships,be=function(){return r.a.createElement(pe,{getData:he})},_e=function(){return r.a.createElement(pe,{getData:de})},Oe=function(){return r.a.createElement(pe,{getData:ve})},je=function(){return r.a.createElement(pe,{getData:Ee})},ye=a(15),xe=a.n(ye),ke=a(24),we=a.n(ke),Pe=function(e){var t=e.featureList;return r.a.createElement("ul",{className:we.a.list},t.map((function(e){var t=e.key,a=e.value;return r.a.createElement("li",{key:t,className:we.a.item},r.a.createElement("p",null,t,": ",a))})))};Pe.defaultProps={featureList:[]};var Ie=Pe,Ne=function(e){var t=e.show,a=e.children,c=Object(n.useState)(t),l=Object(K.a)(c,2),s=l[0],i=l[1];Object(n.useEffect)((function(){t&&i(!0)}),[t]);return s&&r.a.createElement("div",{style:{animation:"".concat(t?"fadeIn":"fadeOut"," 0.2s")},onAnimationEnd:function(){t||i(!1)}},a)},Se=Object(h.g)((function(e){var t=e.getData,a=e.getImage,c=e.id,l=e.history,s=Object(n.useState)(!1),i=Object(K.a)(s,2),u=i[0],o=i[1],m=oe(t,c),f=m.data,g=m.loading,h=m.error;Object(n.useEffect)((function(){return o(!0),function(){return o(!1)}}),[a,c]);return g?r.a.createElement("div",{className:p()("card",xe.a.container)},r.a.createElement(ie,{error:h})):r.a.createElement(U,null,r.a.createElement(Ne,{show:u},r.a.createElement("div",{className:p()("card",xe.a.container)},r.a.createElement("div",{className:xe.a.image},r.a.createElement(re,{imgUrl:a(c),alt:f.name})),r.a.createElement("div",{className:xe.a.text},r.a.createElement("h2",{className:xe.a.title},f.name),r.a.createElement(Ie,{featureList:f.features})),r.a.createElement("button",{className:xe.a.button,type:"button",onClick:function(){l.goBack()}},"\u2190 Go Back"))))})),Ce=new $,Re=Ce.getFilm,Fe=Ce.getPerson,Be=Ce.getPlanet,De=Ce.getStarship,Le=Ce.getFilmsImage,Ae=Ce.getPersonImage,He=Ce.getPlanetImage,Me=Ce.getStarshipImage,Te=function(e){var t=e.id;return r.a.createElement(Se,{getImage:Le,getData:Re,id:t})},ze=function(e){var t=e.id;return r.a.createElement(Se,{getImage:Ae,getData:Fe,id:t})},Ge=function(e){var t=e.id;return r.a.createElement(Se,{getData:Be,getImage:He,id:t})},Ue=function(e){var t=e.id;return r.a.createElement(Se,{getData:De,getImage:Me,id:t})},Je=function(){return r.a.createElement("main",{className:i.a.wrapper},r.a.createElement(g.a,null,r.a.createElement(V,null),r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/films",render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:i.a.title},"Films"),r.a.createElement(be,null))},exact:!0}),r.a.createElement(h.b,{path:"/films/:id",render:function(e){var t=e.match.params.id;return r.a.createElement(Te,{id:t})}}),r.a.createElement(h.b,{path:"/people",render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:i.a.title},"People"),r.a.createElement(_e,null))},exact:!0}),r.a.createElement(h.b,{path:"/people/:id",render:function(e){var t=e.match.params.id;return r.a.createElement(ze,{id:t})}}),r.a.createElement(h.b,{path:"/planets",render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:i.a.title},"Planets"),r.a.createElement(Oe,null))},exact:!0}),r.a.createElement(h.b,{path:"/planets/:id",render:function(e){var t=e.match.params.id;return r.a.createElement(Ge,{id:t})}}),r.a.createElement(h.b,{path:"/starships",render:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:i.a.title},"Starships"),r.a.createElement(je,null))},exact:!0}),r.a.createElement(h.b,{path:"/starships/:id",render:function(e){var t=e.match.params.id;return r.a.createElement(Ue,{id:t})}}),r.a.createElement(h.a,{to:"/films/"}))),r.a.createElement(ue,null))};l.a.render(r.a.createElement(Je,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.36960175.chunk.js.map